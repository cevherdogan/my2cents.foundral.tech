<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Operational Guide (Dev Runbook) — v4.1</title>
  <style>
:root{--bg:#0b1220;--card:rgba(15,27,51,.82);--text:#eaf0ff;--muted:#a9b6d5;--line:rgba(255,255,255,.12);
--accent:#7dd3fc;--accent2:#a78bfa;}
*{box-sizing:border-box}
body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
background:radial-gradient(1200px 600px at 16% -10%, rgba(125,211,252,.22), transparent 60%),
radial-gradient(900px 520px at 110% 12%, rgba(167,139,250,.18), transparent 55%), var(--bg);
color:var(--text);line-height:1.55}
.wrap{max-width:980px;margin:0 auto;padding:28px 18px 64px}
.hero{border:1px solid var(--line);border-radius:18px;background:linear-gradient(135deg, rgba(125,211,252,.18), rgba(167,139,250,.14));
padding:18px 16px;margin:10px 0 16px}
.hero h1{margin:0 0 6px;font-size:1.55rem}
.meta{color:var(--muted);font-size:.95rem}
.card{border:1px solid var(--line);border-radius:16px;background:var(--card);padding:16px;margin:14px 0}
h2{margin:18px 0 8px;font-size:1.2rem}
h3{margin:14px 0 6px;font-size:1.05rem}
p{margin:10px 0;color:var(--text)}
ul,ol{padding-left:22px}
li{margin:6px 0}
blockquote{margin:10px 0;padding:10px 12px;border-left:3px solid var(--accent);background:rgba(125,211,252,.08);
border-radius:12px}
code{background:rgba(0,0,0,.25);border:1px solid var(--line);padding:2px 6px;border-radius:8px}
pre{background:rgba(0,0,0,.25);border:1px solid var(--line);padding:12px;border-radius:12px;overflow:auto}
a{color:var(--accent)}
hr{border:none;border-top:1px solid var(--line);margin:14px 0}
.footer{color:var(--muted);font-size:.9rem;margin-top:18px}
.tableline{white-space:pre-wrap}
</style>
</head>
<body>
  <div class="wrap">
    <div class="hero">
      <h1>Operational Guide (Dev Runbook) — v4.1</h1>
      <div class="meta">Foundral • Magic HTML mirror • docs/OPERATIONAL_GUIDE_v4_1.md • 2026-01-07 17:13</div>
    </div>
    <div class="card">
      <h1>Operational Guide (Dev Runbook) — v4.1</h1>
<p>This runbook describes how to run, validate, and automate the Atlas pipeline.</p>
<p>---</p>
<h2>Local run (macOS)</h2>
<pre><code>
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt

cp config/config.example.yaml config/config.yaml
bash scripts/run_daily.sh
open site/report.html
</code></pre>
<p>Validation checklist:</p>
<ul>
<li>`site/report.html` exists and has today’s timestamp in the header</li>
<li>`data/derived/latest_signals.json` exists</li>
<li>`data/logs/runs.jsonl` grew by one line</li>
<li>`site/history/` contains a new archived report</li>
</ul>
<p>---</p>
<h2>What to commit vs ignore</h2>
<p>Commit:</p>
<ul>
<li>`scripts/`</li>
<li>`docs/`</li>
<li>`ops/`</li>
<li>`site/report.html` (optional, but nice for GitHub Pages)</li>
<li>`site/history/` (optional)</li>
<li>`data/derived/latest_signals.json` (optional)</li>
<li>`data/logs/runs.jsonl` (optional; can get large)</li>
</ul>
<p>Ignore:</p>
<ul>
<li>`config/config.yaml` (contains secrets)</li>
</ul>
<p>---</p>
<h2>Recommended Git workflow (tagged releases)</h2>
<h3>First-time repo setup</h3>
<pre><code>
git init
git add .
git commit -m &quot;v4.1: integration layer prototype (TTD vs ENPH)&quot;
</code></pre>
<h3>Tag</h3>
<pre><code>
git tag -a v4.1 -m &quot;Foundral Investment Atlas v4.1&quot;
</code></pre>
<h3>Add remote + push</h3>
<pre><code>
git remote add origin &lt;YOUR_GIT_URL&gt;
git branch -M main
git push -u origin main
git push origin --tags
</code></pre>
<p>---</p>
<h2>GitHub Actions (daily)</h2>
<ul>
<li>Copy `ops/github_actions_workflow.yml` into `.github/workflows/atlas.yml`</li>
<li>Ensure `config/config.yaml` is created in the runner using GitHub Secrets (v4.2+), or keep `use_live_fetch=false` and run sample mode.</li>
<li>For Slack webhook, store it as a secret and write it into config at runtime.</li>
</ul>
<p>---</p>
<h2>Operational policy (strongly recommended)</h2>
<ul>
<li>Treat `docs/ATLAS_CANON_v3.md` as frozen truth.</li>
<li>Any changes to scoring/invalidation must bump version (v4.2, v4.3, …).</li>
<li>Keep `runs.jsonl` append-only to preserve auditability.</li>
</ul>
    </div>
    <div class="footer">Generated from Markdown. Edit the <code>.md</code> file and regenerate.</div>
  </div>
</body>
</html>
